
  <html>
    <head>
      <title>Creating a basic throwback blog generator</title>
      <link rel="stylesheet" href="../css/styles.css">
      <link rel="stylesheet" href="../css/markdown.css">
    </head>
    <body>
      <div class='container'>
        <div class='logo'><a href='/'><img src='../images/full-stack-logo.svg'></a></div>
        <div class='links'>
          <a href='/pages/about.html'>About</a>
          <a href='/pages/contact.html'>Contact</a>
          <a href='/pages/fun.html'>Fun Stuff</a>
        </div>
      </div>
      <div class='markdown-body'>
        <h1 id="creating-a-throwback-blog-generator">Creating a Throwback Blog Generator</h1>
<p>The throwback blog generator was a fun node exploration.  There is no shortage of bare bones blog generators, but I thought it would be fun to create my own.  My requirements were:</p>
<ul>
<li>Write blog entries in markdown</li>
<li>A simple build process that converts markdown into HTML</li>
<li>No (or very minimal) javascript on the front end. I wanted this blog to be <em>actually</em> super lightweight.</li>
<li>One click deploy</li>
</ul>
<h2 id="tools-used">Tools Used</h2>
<p>You can see the repo for this blog <a href="https://github.com/asieke/sieke-journal">here</a>.  Outside of the basic node/express packages, I used <code>marked</code> to convert markdown to HTML and <code>highlight.js</code> to do syntax highlighting for the markdown.</p>
<h2 id="end-result">End Result</h2>
<p>The basic file structure of the app is below.  A build script <code>build.js</code> runs and compiles everything in the markdown directory into static HTML files which are output to the public/ directory.  Some default CSS styles the HTMLified markdown to resemble the markdown you&#39;d see in a standard Github README.  The build script also updates the table of contents in index.html.</p>
<pre><code class="hljs language-bash">├── build.js
├── index.js
├── markdown
│   └── 2021-12-21.md
├── package.json
├── public
│   ├── index.html
</code></pre>
<h2 id="fun-learnings">Fun Learnings</h2>
<p>Doing syntax highlighting in the exported HTML was super easy thanks to markdown + highlight.js.
This code runs during the build process + then some basic css is required to style the HTML.</p>
<pre><code class="hljs language-javascript">marked.<span class="hljs-title function_">setOptions</span>({
  <span class="hljs-attr">renderer</span>: <span class="hljs-keyword">new</span> marked.<span class="hljs-title class_">Renderer</span>(),
  <span class="hljs-attr">highlight</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">code, lang</span>) {
    <span class="hljs-keyword">const</span> hljs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;highlight.js&#x27;</span>);
    <span class="hljs-keyword">const</span> language = hljs.<span class="hljs-title function_">getLanguage</span>(lang) ? lang : <span class="hljs-string">&#x27;plaintext&#x27;</span>;
    <span class="hljs-keyword">return</span> hljs.<span class="hljs-title function_">highlight</span>(code, { language }).<span class="hljs-property">value</span>;
  },
  <span class="hljs-attr">langPrefix</span>: <span class="hljs-string">&#x27;hljs language-&#x27;</span>, <span class="hljs-comment">// highlight.js css expects a top-level &#x27;hljs&#x27; class.</span>
  <span class="hljs-attr">pedantic</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">gfm</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">breaks</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">sanitize</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">smartLists</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">smartypants</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">xhtml</span>: <span class="hljs-literal">false</span>
});
</code></pre>
<p>One click deploy was accomplished with the following script.  Learned some silly bash / github scripting that enabled me to add a commit message with the current date.</p>
<pre><code class="hljs language-json">  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;start&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;node index.js&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;nodemon index.js&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;deploy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;node build.js &amp;&amp; git add . &amp;&amp; git commit -m \&quot;updated: `date +&#x27;%Y-%m-%d %H:%M:%S&#x27;`\&quot; &amp;&amp; git push origin master &amp;&amp; git push heroku master&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>

      </div>
    </body>
  </html>
  